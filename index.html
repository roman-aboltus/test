<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Mini App Data Viewer</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">üì± Telegram Mini App Data Viewer</h1>
            <p class="subtitle">–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Telegram –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        </header>

        <main class="main-content">
            <!-- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
            <section class="card" id="statusCard">
                <h2 class="card-title">üîå –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h2>
                <div class="status-indicator">
                    <div class="status-dot" id="statusDot"></div>
                    <span class="status-text" id="statusText">–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                </div>
                <button class="btn" onclick="checkTelegramConnection()">
                    üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞
                </button>
            </section>

            <!-- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <section class="card" id="userCard">
                <h2 class="card-title">üë§ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
                <div class="data-grid">
                    <div class="data-item">
                        <span class="data-label">ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
                        <span class="data-value" id="userId">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–ò–º—è:</span>
                        <span class="data-value" id="userFirstName">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–§–∞–º–∏–ª–∏—è:</span>
                        <span class="data-value" id="userLastName">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Username:</span>
                        <span class="data-value" id="userUsername">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–Ø–∑—ã–∫:</span>
                        <span class="data-value" id="userLanguage">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–î–∞—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:</span>
                        <span class="data-value" id="authDate">‚Äî</span>
                    </div>
                </div>
            </section>

            <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∞—Ç–∞ -->
            <section class="card" id="chatCard">
                <h2 class="card-title">üí¨ –î–∞–Ω–Ω—ã–µ —á–∞—Ç–∞</h2>
                <div class="data-grid">
                    <div class="data-item">
                        <span class="data-label">ID —á–∞—Ç–∞:</span>
                        <span class="data-value" id="chatId">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–¢–∏–ø —á–∞—Ç–∞:</span>
                        <span class="data-value" id="chatType">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞:</span>
                        <span class="data-value" id="chatTitle">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
                        <span class="data-value" id="chatUsername">‚Äî</span>
                    </div>
                </div>
            </section>

            <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
            <section class="card" id="appCard">
                <h2 class="card-title">‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
                <div class="data-grid">
                    <div class="data-item">
                        <span class="data-label">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</span>
                        <span class="data-value" id="platform">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–í–µ—Ä—Å–∏—è:</span>
                        <span class="data-value" id="version">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:</span>
                        <span class="data-value" id="colorScheme">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–í—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞:</span>
                        <span class="data-value" id="viewportHeight">‚Äî</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">–í—ã—Å–æ—Ç–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è:</span>
                        <span class="data-value" id="viewportStableHeight">‚Äî</span>
                    </div>
                </div>
            </section>

            <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–º—ã -->
            <section class="card" id="themeCard">
                <h2 class="card-title">üé® –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–º—ã</h2>
                <div class="data-grid">
                    <div class="data-item color-item">
                        <span class="data-label">–¶–≤–µ—Ç —Ñ–æ–Ω–∞:</span>
                        <span class="data-value" id="bgColor">‚Äî</span>
                        <div class="color-preview" id="bgColorPreview"></div>
                    </div>
                    <div class="data-item color-item">
                        <span class="data-label">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:</span>
                        <span class="data-value" id="textColor">‚Äî</span>
                        <div class="color-preview" id="textColorPreview"></div>
                    </div>
                    <div class="data-item color-item">
                        <span class="data-label">–¶–≤–µ—Ç –ø–æ–¥—Å–∫–∞–∑–æ–∫:</span>
                        <span class="data-value" id="hintColor">‚Äî</span>
                        <div class="color-preview" id="hintColorPreview"></div>
                    </div>
                    <div class="data-item color-item">
                        <span class="data-label">–¶–≤–µ—Ç —Å—Å—ã–ª–æ–∫:</span>
                        <span class="data-value" id="linkColor">‚Äî</span>
                        <div class="color-preview" id="linkColorPreview"></div>
                    </div>
                    <div class="data-item color-item">
                        <span class="data-label">–¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏:</span>
                        <span class="data-value" id="buttonColor">‚Äî</span>
                        <div class="color-preview" id="buttonColorPreview"></div>
                    </div>
                    <div class="data-item color-item">
                        <span class="data-label">–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏:</span>
                        <span class="data-value" id="buttonTextColor">‚Äî</span>
                        <div class="color-preview" id="buttonTextColorPreview"></div>
                    </div>
                </div>
            </section>

            <!-- Raw –¥–∞–Ω–Ω—ã–µ -->
            <section class="card" id="rawDataCard">
                <h2 class="card-title">üìã Raw –¥–∞–Ω–Ω—ã–µ</h2>
                <div class="raw-data-container">
                    <pre id="rawData" class="raw-data">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</pre>
                </div>
                <div class="action-buttons">
                    <button class="btn" onclick="copyRawData()">
                        üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å JSON
                    </button>
                    <button class="btn" onclick="downloadData()">
                        üíæ –°–∫–∞—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                    <button class="btn btn-secondary" onclick="clearData()">
                        üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                </div>
            </section>

            <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
            <section class="card" id="interactiveCard">
                <h2 class="card-title">üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤</h2>
                <div class="action-buttons">
                    <button class="btn btn-action" onclick="sendTestData()">
                        üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
                    </button>
                    <button class="btn btn-action" onclick="showAlert()">
                        üîî –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    </button>
                    <button class="btn btn-action" onclick="toggleExpanded()">
                        üì± –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º —ç–∫—Ä–∞–Ω–∞
                    </button>
                    <button class="btn btn-danger" onclick="closeApp()">
                        ‚ùå –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                    </button>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç: <a href="https://roman-aboltus.github.io/test" target="_blank">roman-aboltus.github.io/test</a></p>
            <p>üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="updateTime">‚Äî</span></p>
            <p class="footer-note">–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </footer>
    </div>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="script.js"></script>
</body>
</html>